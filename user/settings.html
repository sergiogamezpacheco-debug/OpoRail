<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ajustes | OpoRail</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/user-panel.css">
  <script type="module" src="../js/firebase-config.js"></script>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col">
  <header class="bg-gradient-to-r from-[#0b5a2a] to-purple-700 text-white py-4">
    <div class="max-w-[1200px] mx-auto flex justify-between items-center px-6">
      <h1 class="text-2xl font-bold">Ajustes de cuenta</h1>
      <a href="dashboard.html" class="bg-white text-purple-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-200">Volver al panel</a>
    </div>
  </header>

  <main class="flex-1 max-w-[1200px] mx-auto w-full px-6 py-10">
    <div class="bg-white rounded-xl shadow-md p-6 max-w-3xl mx-auto space-y-6">
      <div>
        <h2 class="text-2xl font-bold text-purple-700 mb-2">Preferencias</h2>
        <p class="text-gray-700">Hemos dejado preparada esta pantalla para futuras opciones de notificaciones y personalización.</p>
      </div>

      <label class="toggle">
        <input type="checkbox" checked disabled>
        <span>Recibir avisos de nuevas convocatorias (próximamente)</span>
      </label>

      <label class="toggle">
        <input type="checkbox" disabled>
        <span>Modo recordatorio diario (próximamente)</span>
      </label>

      <div>
        <h2 class="text-2xl font-bold text-purple-700 mb-2">Plan de suscripción</h2>
        <p class="text-gray-700 mb-4">Selecciona un plan y simula el pago para activar el acceso a cursos.</p>
        <div id="plan-options" class="grid gap-4 md:grid-cols-2"></div>
        <p id="plan-feedback" class="text-sm text-gray-600 mt-3"></p>
      </div>

      <div>
        <h2 class="text-2xl font-bold text-purple-700 mb-2">Métodos de pago</h2>
        <p class="text-gray-700 mb-4">Configura el método preferido (Stripe, PayPal, tarjeta, transferencia o Bizum).</p>
        <div id="payment-methods" class="grid gap-4 md:grid-cols-2"></div>
        <div class="mt-4">
          <label class="block text-sm text-gray-600 mb-1" for="payment-reference">Referencia de pago</label>
          <input id="payment-reference" type="text" placeholder="ID transacción / referencia" class="w-full border border-gray-200 rounded-lg px-3 py-2">
          <button id="save-payment" class="btn mt-3">Guardar método y simular pago</button>
          <p id="payment-feedback" class="text-sm text-gray-600 mt-2"></p>
        </div>
      </div>

      <div>
        <h2 class="text-2xl font-bold text-purple-700 mb-2">Recordatorios de inactividad</h2>
        <p class="text-gray-700 mb-4">Enviaremos un correo cuando el usuario lleve varios días sin entrar (requiere webhook backend).</p>
        <div class="grid gap-4 md:grid-cols-2">
          <label class="toggle">
            <input id="reminder-enabled" type="checkbox">
            <span>Activar recordatorios</span>
          </label>
          <div>
            <label class="block text-sm text-gray-600 mb-1" for="reminder-days">Días de inactividad</label>
            <input id="reminder-days" type="number" min="1" value="7" class="w-full border border-gray-200 rounded-lg px-3 py-2">
          </div>
          <div class="md:col-span-2">
            <label class="block text-sm text-gray-600 mb-1" for="reminder-webhook">Webhook de envío</label>
            <input id="reminder-webhook" type="url" placeholder="https://tu-servidor.com/reminders" class="w-full border border-gray-200 rounded-lg px-3 py-2">
          </div>
        </div>
        <button id="save-reminder" class="btn mt-3">Guardar recordatorios</button>
        <p id="reminder-feedback" class="text-sm text-gray-600 mt-2"></p>
      </div>

      <button id="logout-btn" class="btn-danger">Cerrar sesión</button>
    </div>
  </main>

  <script type="module" src="../js/user-panel.js"></script>
</body>
</html>
